<section>
  @if (!loading) {
  <div class="title">
    @if (category.image) {
    <img [src]="category.image" [alt]="category.title" />
    }@else {
    <img [src]="imagePath + 'Empty.webp'" alt="Empty.webp" />
    }
    <h1>{{ category.title }}</h1>
  </div>
  <div class="content">
    <form [formGroup]="searchForm">
      <mat-form-field>
        <mat-label>RECHERCHER</mat-label>
        <input matInput formControlName="search" />
        <button mat-icon-button matSuffix type="button">
          <mat-icon>search</mat-icon>
        </button>
      </mat-form-field>
    </form>
    <div class="categories">
      @for (article of filteredArticles; track $index) {
      <app-article-card
        [article]="article"
        [categoryId]="category.id!"
        (recommandArticleEvent)="recommandArticle(article)"
        (updateArticleEvent)="updateArticle(article)"
        (deleteArticleEvent)="deleteArticle(article.id!)"
      ></app-article-card>
      }
    </div>
    <button
      type="button"
      (click)="addArticle()"
      class="add"
      title="Ajouter élément"
    >
      <i class="bx bx-plus"></i>
    </button>
  </div>
  }
</section>
@if (loading) {
<mat-spinner></mat-spinner>
}
